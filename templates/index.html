{% extends "base.html" %}
{% block content %}
<style>
  h2 { text-align: center; margin-top: 0; color: #1565C0; font-weight: bold; }
  .file-row { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-top: 20px; }
  .upload-btn {
    background: #1565C0; color: white; padding: 25px 82px;
    border-radius: 12px; font-size: 16px; font-weight: bold;
    cursor: pointer; transition: background 0.2s ease;
    display: inline-block; text-align: center;
  }
  .upload-btn:hover { background: #1E88E5; }
  input[type="file"] { display: none; }
  .file-name { margin-top: 6px; font-size: 14px; color: #333; text-align: center; }
  .submit-btn {
    background: linear-gradient(90deg, #1565C0, #1E88E5);
    color: white; padding: 12px 24px; border-radius: 8px;
    font-size: 16px; font-weight: bold; margin-top: 18px;
    cursor: pointer;
  }
  .note-text { text-align: center; color: #777; margin-top: 12px; }
</style>

<div class="container">
  <h2>UAN / ESIC Highlighter</h2>

  <form action="{{ url_for('highlight_route') }}" method="post" enctype="multipart/form-data">
    <div class="file-row">
      <div>
        <label class="upload-btn">
          Select PDF
          <input type="file" id="pdf_file" name="pdf_file" accept=".pdf" required />
        </label>
        <div id="pdf-name" class="file-name"></div>
      </div>

      <div>
        <label class="upload-btn">
          Select Excel
          <input type="file" id="excel_file" name="excel_file" accept=".xls,.xlsx" required />
        </label>
        <div id="excel-name" class="file-name"></div>
      </div>
    </div>

    <div style="text-align:center;margin-top:18px;">
      <label><input type="radio" name="highlight_type" value="uan" checked /> UAN</label>
      &nbsp;&nbsp;
      <label><input type="radio" name="highlight_type" value="esic" /> ESIC</label>
    </div>

    <div style="text-align:center;">
      <button class="submit-btn" type="submit">Highlight Now</button>
    </div>

    {% if not is_subscribed %}
      <p class="note-text">
        Free users: 2 tasks/month.
        <a href="{{ url_for('plans') }}">See plans</a>
      </p>
    {% endif %}
  </form>
</div>

<script>
  document.getElementById("pdf_file").addEventListener("change", function() {
    let fileName = this.files[0]?.name || "";
    document.getElementById("pdf-name").textContent = fileName ? "ðŸ“„ " + fileName : "";
  });

  document.getElementById("excel_file").addEventListener("change", function() {
    let fileName = this.files[0]?.name || "";
    document.getElementById("excel-name").textContent = fileName ? "ðŸ“Š " + fileName : "";
  });
</script>
{% endblock %}
